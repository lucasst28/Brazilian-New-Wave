<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire Incompréhensible</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="form-container">
        <h2>Formulaire Incompréhensible</h2>

        <label>Nom:</label>
        <div class="letter-selector">
            <button onclick="previousLetter()">←</button>
            <div id="letter" class="letter-box">A</div>
            <button onclick="nextLetter()">→</button>
            <button onclick="addLetter()">Ajouter</button>
        </div>

        <div class="name-preview">
            Nom actuel: <span id="name-preview">_</span>
        </div>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required placeholder="S'il vous plaît, entrez quelque chose">

        <label for="sexe">Sexe:</label>
        <select id="sexe" name="sexe">
            <option value="masculin">Masculin</option>
            <option value="féminin">Féminin</option>
            <option value="autre">Autre</option>
            <option value="preference-decliner">Préférer ne pas dire</option>
        </select>

        <div class="age-selector">
            <label>Âge généré:</label>
            <div id="age-box" class="age-box">Cliquez ici</div>
            <button type="button" class="age-button" onclick="randomAge()">Générer un âge mystérieux</button>
        </div>

        <button type="submit" class="submit-btn" id="submit-btn" onclick="attemptSubmit()">Envoyer</button>
    </div>

    <img 
        src="https://example.com/turtle-image.png" 
        alt="Tartaruga" 
        class="turtle-img" 
        onclick="openModal()"
    />

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">×</span>
            <h3>Qui est cette créature?</h3>
            <p>Les informations sont secrètes. Appuyez sur "OK" pour découvrir quelque chose.</p>
        </div>
    </div>

    <script>
        let attemptCount = 0;

        // Funções de Nome
        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        let currentIndex = 0;
        let currentName = "";

        function updateLetter() {
            document.getElementById("letter").textContent = alphabet[currentIndex];
        }

        function nextLetter() {
            currentIndex = (currentIndex + 1) % alphabet.length;
            updateLetter();
        }

        function previousLetter() {
            currentIndex = (currentIndex - 1 + alphabet.length) % alphabet.length;
            updateLetter();
        }

        function addLetter() {
            currentName += alphabet[currentIndex];
            document.getElementById("name-preview").textContent = currentName || "_";
        }

        // Funções de Idade Aleatória
        function randomAge() {
            const minAge = 10;
            const maxAge = 150;
            const randomAge = Math.floor(Math.random() * (maxAge - minAge + 1)) + minAge;
            document.getElementById("age-box").textContent = `${randomAge} ans`;
        }

        // Funções do Modal
        function openModal() {
            document.getElementById("myModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("myModal").style.display = "none";
        }

        // Fechar o modal se o usuário clicar fora da caixa
        window.onclick = function(event) {
            if (event.target == document.getElementById("myModal")) {
                closeModal();
            }
        }

        // Função para mover o botão e contar as tentativas
        function attemptSubmit() {
            attemptCount++;

            if (attemptCount < 3) {
                // Move o botão para um local aleatório
                moveSubmitButton();
            } else {
                // Permite enviar o formulário na terceira tentativa
                alert("Formulário enviado!");
            }
        }

        // Função para mover o botão para um local aleatório
        function moveSubmitButton() {
            const submitButton = document.getElementById("submit-btn");
            const maxX = window.innerWidth - submitButton.offsetWidth;
            const maxY = window.innerHeight - submitButton.offsetHeight;

            const randomX = Math.floor(Math.random() * maxX);
            const randomY = Math.floor(Math.random() * maxY);

            submitButton.style.position = "absolute";
            submitButton.style.left = `${randomX}px`;
            submitButton.style.top = `${randomY}px`;
        }
    </script>

</body>
</html>
